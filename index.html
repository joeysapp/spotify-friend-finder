<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
	<title>joeysapp.github.io</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.1/react.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.1/react-dom.min.js"></script>
	<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<style>
	@font-face {
		font-family: incons;
		src: url(public/incons.ttf);
	}
	body {
		font-family: incons;
		font-size: 3vh;
		margin: 0px;
	}
	#header {
		position:relative;
		height:6vh;
	}
	#self {
		position:absolute;
		bottom:1vh;
		left:1vh;
	}
	a:link {
		color:white;
	}
	a:visited {
		color:white;
	}
	img {
		width:8vh;
		height:8vh;
	}
	#navbar {
		background: black;
		width:100%;
		height:4vh;
		padding-left:1vh;
	}
	#spotifyUsers {
		margin: 0;
		border: 3px solid black;
		width: 100vw;
		height:90vh;
		padding: 0;
		display:inline-flex;
	}
	.spotifyUser {
		border: 3px solid black;
		width: 30vw;
		height: 20vh;
		margin: 1vh;
		padding: 1vh;
	}
	.spotifyHeader {
		display: flex;
	}
	.spotifyUsername {
		padding-left: 2vw;
	}

	.spotifyTopArtists {
		border: 1px solid black;
		margin:0.5vh;
		padding:0.5vh;
		font-size: 2.5vh;
		height: 10vh;
		/*overflow-y: scroll;*/
	}

</style>

<body>
<div id='header'>
	<div id='self'>Joey Sapp</div>
</div>

<div id='navbar'>
	<div id='urls'>
		<a href='http://github.com/joeysapp'>github</a>
		<a href='http://linkedin.com/in/joeysapp'>linkedin</a>
		<a href='http://lastfm.com/user/joeysapp'>lastfm</a>
		<a href='http://instagram.com/joeysapp'>instagram</a>
	</div>
</div>

<div id='spotifyUsers'>
<script type='text/babel'>
	class SpotifyUser extends React.Component {
		constructor(props){
			super();
			this.user = {
				username: props.username,
				avatar: props.avatar
			}
			this.uuid = props.uuid;
			this.favorite_artists = props.favorite_artists;
		}

		render() {
			var listOfArtists = this.favorite_artists.map((artist) => 
				<li>{artist}</li>
			);
			return (
				<div className='spotifyUser'>
					<div className='spotifyHeader'>
						<img className='spotifyAvatar' src={this.user.avatar} alt={this.user.username} />
						<div className='spotifyUsername'>{this.user.username}</div>
					</div>
					<div className='spotifyStatistics'>
						<div style={{overflow: 'auto'}} className='spotifyTopArtists'>
							Top Artists
							{listOfArtists}
						</div>
					</div>
				</div>
			)
		}
	}
	class UsersContainer extends React.Component {
		constructor(props){
			super();
			this.users = props.users;
		}

		render(){
			var listOfArtists = this.users.map((user) => 
				<div>{user}</div>
			);
			return <div className='spotifyUsersContainer' style={{display:'flex'}}>{listOfArtists}</div>;
		}
	}

	var mount = document.querySelector('#spotifyUsers');
	var tmp = 'public/avatars/joeysapp.jpeg';

	var favorite_artists = ['Kanye West', 'Alt-J', 'Sufjan Stevens', 'LCD Soundsystem', 'Lord Huron']
	var joey = <SpotifyUser uuid='1' username='joeysapp' avatar={tmp} favorite_artists={favorite_artists} />;
	var steve = <SpotifyUser uuid='1' username='steve' avatar={tmp}favorite_artists={favorite_artists} />;

	var users = [joey, steve];
	ReactDOM.render(<UsersContainer users={users} />, mount);


</script>
</div>

</div>
</body>